Devopment: 

If(
    containerName = "testcontainer",
    Set(
        varAzureFile,
        AzureBlobStorage.CreateFile(
            Concatenate(
                "/",
                containerName,
                "/",
                externalIDIS,
                "/"
            ),
            phototypeis & " " & Text(
                Today(),
                "dd-mm-yyyy"
            ),
            Image_capturedImage
        )
    ),
    Set(
        varAzureFile,
        AzureBlobStorageConstituent.CreateFile(
            Concatenate(
                "/",
                containerName,
                "/",
                externalIDIS,
                "/"
            ),
            phototypeis & " " & Text(
                Today(),
                "dd-mm-yyyy"
            ),
            Image_capturedImage
        )
    )
);

If(containerName = "test-constituent",
Set(ContactblobURL, ContainerbaseURL & ""& varAzureFile.Path));

If(phototypeis = "Headshot-" And containerName = "test-constituent",
Patch(Contacts, First( Filter( Contacts, Contact =DataCardValue2.Selected.Contact) ), { 'Headshot Photo':ContactblobURL })
,Patch(Contacts, First( Filter( Contacts, Contact =DataCardValue2.Selected.Contact ) ), { 'Certificate Photo':ContactblobURL }));

If(containerName = "testcontainer",
Set(ChildContactblobURL, ContainerbaseURL & ""& varAzureFile.Path));

If(phototypeis = "Headshot-" And containerName = "testcontainer",
Patch(Contacts, First( Filter(Contacts,  'External ID' = Gallery_childcontacts.Selected.'Child Contact'.'External ID' ) ), { 'Headshot Photo':ChildContactblobURL })
,Patch(Contacts, First( Filter( Contacts, 'External ID' = Gallery_childcontacts.Selected.'Child Contact'.'External ID' ) ), { 'Certificate Photo':ChildContactblobURL }));

Production: 


If(
    containerName = "testcontainer",
    Set(
        varAzureFile,
        AzureBlobStorage.CreateFile(
            Concatenate(
                "/",
                containerName,
                "/",
                externalIDIS,
                "/"
            ),
            phototypeis & " " & Text(
                Today(),
                "dd-mm-yyyy"
            ),
            Image_capturedImage
        )
    ),
    Set(
        varAzureFile,
        AzureBlobStorageConstituent.CreateFile(
            Concatenate(
                "/",
                containerName,
                "/",
                externalIDIS,
                "/"
            ),
            phototypeis & " " & Text(
                Today(),
                "dd-mm-yyyy"
            ),
            Image_capturedImage
        )
    )
);
If(containerName = "testcontainer",
Set(ChildContactblobURL, AzureBlobStorage.CreateShareLinkByPath(varAzureFile.Path,{ExpiryTime:DateAdd( Now(),9999999)}).WebUrl));

If(phototypeis = "Headshot-" And containerName = "testcontainer",
Patch(Contacts, First( Filter(Contacts,  'External ID' = Gallery_childcontacts.Selected.'Child Contact'.'External ID' ) ), { 'Headshot Photo':ChildContactblobURL })
,Patch(Contacts, First( Filter( Contacts, 'External ID' = Gallery_childcontacts.Selected.'Child Contact'.'External ID' ) ), { 'Certificate Photo':ChildContactblobURL }));

If(containerName = "test-constituent",
Set(contactblobURL, AzureBlobStorageConstituent.CreateShareLinkByPath(varAzureFile.Path,{ExpiryTime:DateAdd( Now(),9999999)}).WebUrl));

If(phototypeis = "Headshot-" And containerName = "test-constituent",
Patch(Contacts, First( Filter( Contacts, Contact =DataCardValue2.Selected.Contact) ), { 'Headshot Photo':contactblobURL })
,Patch(Contacts, First( Filter( Contacts, Contact =DataCardValue2.Selected.Contact ) ), { 'Certificate Photo':contactblobURL }))
