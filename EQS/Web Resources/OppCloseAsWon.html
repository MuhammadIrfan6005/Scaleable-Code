<html><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script> -->
	<style type="text/css">
		body {
			padding-bottom: 80px;
		}

		.radioBtn a {
			color: #3276b1;
			background-color: #fff;
			-webkit-transition: .6s;
			transition: .6s;
		}

		.radioBtn .active {
			color: #fff;
			background-color: #286090;
			background-image: none;
			border-color: #204d74;
			box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
			-webkit-transition: .6s;
			transition: .6s;
		}

		.spaceyesno {
			background: white;
			color: black;
			font-weight: bold;
			-webkit-transition: .6s;
			transition: .6s;
		}

		/***/
		span.label {
			float: left;
			color: black;
			font-size: 17px;
		}

		.mb8 {
			margin-bottom: 8px;
		}

		.btn-sm {
			padding: 2px 8px 1px 8px !important;
		}

		label {
			font-weight: 400
		}

		.bold {
			font-weight: 700;
		}

		.indays1 input
		 {
			width: 106px;
			height: 23px;
		}
		.inputnotice{
			width: 100%;
		}
		.indays2 input {
			width: 57px;
			height: 27px;
		}

		.input-sm {
			height: 27px;
		}

		.btnsyesno {
			text-align: right;
		}

		.inputdiv {
			text-align: right;
		}

		.input130 {
			width: 143px;
		}

		.inputfull {
			width: 100%;
		}

		input[type="text"],
		input[type="number"],
		input[type="date"] {
			border: none;
			border-bottom: 1px solid lightgray;
		}

		input[type="text"]:hover,
		input[type="number"]:hover,
		input[type="date"]:hover,
		input[type="text"]:active,
		input[type="number"]:active,
		input[type="date"]:active {
			border: 1px solid black;
		}

		input#notifi_days {
			border: 1px solid lightgray !important;
		}

		input#notifi_days:hover {
			border: 1px solid black !important;
		}

		.all-standard {
			margin-top: 7px;
		}

		.all-standard label {
			/* font-size: 16px; */
			font-weight: bold;
			/* text-decoration: underline; */
			/* border-bottom: 2px solid; */
			line-height: 1;
			float: left;
		}

		.payment_terms_text {
			/*max-height: 0;*/
			-webkit-transition: max-height 0.5s ease-in-out;
			-moz-transition: max-height 0.5s ease-in-out;
			-o-transition: max-height 0.5s ease-in-out;
			transition: max-height 0.5s ease-in-out;
			display: none;
		}

		.showtextpay {
			-webkit-transition: max-height 0.5s ease-in-out;
			-moz-transition: max-height 0.5s ease-in-out;
			-o-transition: max-height 0.5s ease-in-out;
			transition: max-height 0.5s ease-in-out;
			max-height: 60px;
			display: block;
		}

		.btnsyesno .btn,
		.btnsyesno1 .btn {
			/*border-radius: 0px;
		width: 42px;*/
		}

		.btnsyesno1 span.btn,
		.btnsyesno span.btn {
			/*border-right: 0px;
	    border-radius: 0px;
	    border-left: 0px;
	    margin-left: -4px !important;
	    margin-right: -4px;
	    width: 20px;*/
		}

		.btnsyesno1 span.btn:hover,
		.btnsyesno span.btn:hover {
			background: transparent;
			color: blue;
		}

		.btnsyesno,
		.fieldlabel {
			padding-left: 10px;
			padding-right: 10px;
		}

		button#submit {
			float: right;
			background-color: #001399;
			/*color: rgba(255, 255, 255, 1.0) !important;*/
			color: white;
			font-family: Segoe UI;
			font-size: 12px;

			/*border: 1px solid rgba(0, 120, 215, 1.0);*/
			border: 1px solid black;
			width: 84px !important;
			padding: 3px 3px 3px 3px;
			text-align: center;
			text-decoration: none;
		}

		button#cancel {
			float: left;
			text-align: center;
			text-decoration: none;
			background-color: rgba(255, 255, 255, 1.0);
			/*color: rgba(0, 120, 215, 1.0);*/
			color: black;
			font-family: Segoe UI;
			font-size: 12px;

			/*border: 1px solid rgba(0, 120, 215, 1.0);*/
			border: 1px solid black;
			width: 84px !important;
			padding: 3px 3px 3px 3px;
		}

		.row.btnrow {
			margin: 0px;
		}

		.row.btnrow {
			float: left;
			width: 100%;
			margin: 0px;
		}

		.actionbtns {
			float: right;
			width: 181px;
			margin-right: 1px;
			margin-top: 20px;
		}

		.submitbtn {
			float: left;
			width: auto;
		}

		.cancelbtn {
			float: right;
			width: auto;
		}

		.btnsyesno>.btn:first-child,
		.btnsyesno1>.btn:first-child {
			margin-right: -3px;
			border-top-right-radius: 0px;
			border-bottom-right-radius: 0px;
		}

		.btnsyesno>.btn:nth-child(2),
		.btnsyesno1>.btn:nth-child(2) {
			border-top-left-radius: 0px;
			border-top-left-radius: 0px;
			border-bottom-left-radius: 0px;
		}

		body {
			background: #add8e638;
		}

		.hideit {
			display: none;
		}

		.showit {
			display: block;
		}

		p.indays2 {
			margin-top: 12px;
			/* border: 1px solid; */
		}

		.pl16 {
			padding-left: 16px;
		}

		span.QNumber {
			float: left;
			margin-right: 5px;
		}

		.pl13 {
			padding-left: 13px;
		}

		span.inpercent {
			/*float: left;
    margin-top: -3px;*/
		}

		span.countryindexsp {
			float: left;
			margin-top: -3px;
		}

		.pcountryindexsp,
		.pinpercent {
			float: left;
			width: 100%;
		}

		.btn.btn-primary {
			border: 1px solid black;
			color: black;
		}

		.btn.btn-primary:hover {
			/*background: white;*/
			background: #204d74;
			color: white;
		}
		.btn.btn-primary.active:hover {
			/*background: white;*/
			background: #204d74;
			color: white;
		}
		.btn.btn-primary.active{
			color: white;
		}
		.btn.btn-primary.btn-sm.active[data-title="1"] {
			/*background: green;
			border: 1px solid green;
			color: white;*/
		}

		.btn.btn-primary.btn-sm[data-title="1"]:hover {
			/*background: green;
			color: white;
			border: 1px solid green;*/

		}

		.btn.btn-primary[data-title="0"]:hover {
			/*background: #a9a9b0;
			color: white;
			border: 1px solid #a9a9b0;
			border-radius: red;*/
		}

		.btn.btn-primary.active[data-title="0"] {
			/*background: #a9a9b0;
			border: 1px solid #a9a9b0;
			color: white;*/
		}

		.mt10 {
			margin-top: 10px;
		}

		.pr0 {
			padding-right: 0px;
		}
		
		a[data-title = "0"]{
			margin-left: -6px !important;
    		border-radius: 0px 3px 3px 0px;
		}
		.nabtn.active{
			color: white;
		}
		.pl0{
			padding-left: 0px;
		}
		.part1,.part2{
			margin-top: 20px;
			margin-bottom: 30;
			padding-top: 5px;
    		padding-bottom: 5px;
			border-bottom: 2px solid black;
		}
		.part1 .btnsyesno,.part2 .btnsyesno{
			text-align: right;
		}
		/* nh================================ */
		#eInvoiceError
		{
			color: red;
			font-size: 12px !important;
		}
        #E_Invoice{display: none;}
		span.eInvoive {
			margin-right: 9px;
		}
		#eInvoicedivMain
		{
		margin-left: 1px;
		margin-top: 25px;
		}
		.eInvoicediv p {
			font-weight: bold;
			/* margin-left: 30px; */
			float: left;
		}
		#E_InvoiceEmail
		{
			
			height: 27px !important;
			padding: 5px 10px !important;
            font-size: 12px !important;
            line-height: 1.5;
            border-radius: 3px;
		}
		
		#eInvoice
		{
			size: 100px;
			width: 20px;
			height: 20px;
			margin-top: -2px;
			margin-bottom: 15px;
			margin-right: 10px;
		}
		.eInvoicediv{
			margin-top: 14px;
		}
		.eInvoiceCheckbox{
			float: left;
		}
		.resetcheckbox{
			margin-bottom: -3px;
		}


		/* ================================nh */
		span.resetcheckbox {
			margin-right: 9px;
		}
		.resetdiv p {
			font-weight: bold;
			/* margin-left: 30px; */
			float: left;
		}
		.resetdiv{
			margin-top: 14px;
		}
		.resettext,.resetcheckbox{
			float: left;
		}
		.resetcheckbox{
			margin-bottom: -3px;
		}
		.mt20 {
			margin-top: 20px;
		}
		input#resetall {
			size: 100px;
			width: 20px;
			height: 20px;
			margin-top: -2px;
			margin-bottom: 4px;
		}
		.termdaysother {
			margin-top: 7px;
			border: 1px solid lightblue;
			border-radius: 8px;
			width: 90px;
			height: 29px;
			padding: 3px 6px 3px 6px;
		}
		.termdaysother:focus, .termdaysother:active, .termdaysother:hover {
			border-radius: 8px !important;
			border: 1px solid lightblue !important;
		}
		.resettext {
			margin-top: -3px;
		}
		.p0{
			padding: 0px !important;
		}
		.pb4{
			padding-bottom: 4px;
		}
		.revenuedate{
			border: 1px solid black;
			padding-top: 5px !important;
    		padding-bottom: 5px !important;
		}
		.pl30{
			padding-left: 30px;
		}
		.plr0{
			padding-left: 0px;
			padding-right: 0px;
		}
		.part1q, .part2q, .part1qyn, .part2qyn {
			float: left;
			width: auto;
		}
		.secondpart{
			/*display: none;*/
		}
		/**********cssssssss 103**********/
		#style-7::-webkit-scrollbar-track {
			-webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
			background-color: #F5F5F5;
			border-radius: 10px;
		}

		#style-7::-webkit-scrollbar {
			width: 10px;
			background-color: #F5F5F5;
		}

		.error {
			border: 3px solid red !important;
		}

		#style-7::-webkit-scrollbar-thumb {
			border-radius: 10px;
			background-image: -webkit-gradient(linear,
			left bottom,
			left top,
			color-stop(0.44, rgb(122, 153, 217)),
			color-stop(0.72, rgb(73, 125, 189)),
			color-stop(0.86, rgb(28, 58, 148)));
		}

		/********LOADER*************/
		.loader {
			position: fixed;
			left: 50%;
			top: 40%;
			border: 16px solid #f3f3f3;
			border-radius: 50%;
			border-top: 16px solid #3498db;
			width: 120px;
			height: 120px;
			-webkit-animation: spin 2s linear infinite;
			/* Safari */
			animation: spin 2s linear infinite;
		}

		.loaderdiv {
			position: fixed;
			left: 0px;
			top: 0px;
			width: 100%;
			height: 100%;
			z-index: 9999;
			background: rgba(0, 0, 0, 0.7);
		}

		/* Safari */
		@-webkit-keyframes spin {
			0% {
				-webkit-transform: rotate(0deg);
			}

			100% {
				-webkit-transform: rotate(360deg);
			}
		}

		@keyframes spin {
			0% {
				transform: rotate(0deg);
			}

			100% {
				transform: rotate(360deg);
			}
		}

		/*********END LOADER********/
		/********Loder2************/
		.lds-spinner {
			position: fixed;
			left: 50%;
			top: 40%;
			color: official;
			display: inline-block;
			width: 64px;
			height: 64px;
		}

		.lds-spinner div {
			transform-origin: 32px 32px;
			animation: lds-spinner 1.2s linear infinite;
		}

		.lds-spinner div:after {
			content: " ";
			display: block;
			position: absolute;
			top: 3px;
			left: 29px;
			width: 5px;
			height: 14px;
			border-radius: 20%;
			background: #fff;
		}

		.lds-spinner div:nth-child(1) {
			transform: rotate(0deg);
			animation-delay: -1.1s;
		}

		.lds-spinner div:nth-child(2) {
			transform: rotate(30deg);
			animation-delay: -1s;
		}

		.lds-spinner div:nth-child(3) {
			transform: rotate(60deg);
			animation-delay: -0.9s;
		}

		.lds-spinner div:nth-child(4) {
			transform: rotate(90deg);
			animation-delay: -0.8s;
		}

		.lds-spinner div:nth-child(5) {
			transform: rotate(120deg);
			animation-delay: -0.7s;
		}

		.lds-spinner div:nth-child(6) {
			transform: rotate(150deg);
			animation-delay: -0.6s;
		}

		.lds-spinner div:nth-child(7) {
			transform: rotate(180deg);
			animation-delay: -0.5s;
		}

		.lds-spinner div:nth-child(8) {
			transform: rotate(210deg);
			animation-delay: -0.4s;
		}

		.lds-spinner div:nth-child(9) {
			transform: rotate(240deg);
			animation-delay: -0.3s;
		}

		.lds-spinner div:nth-child(10) {
			transform: rotate(270deg);
			animation-delay: -0.2s;
		}

		.lds-spinner div:nth-child(11) {
			transform: rotate(300deg);
			animation-delay: -0.1s;
		}

		.lds-spinner div:nth-child(12) {
			transform: rotate(330deg);
			animation-delay: 0s;
		}

		@keyframes lds-spinner {
			0% {
				opacity: 1;
			}

			100% {
				opacity: 0;
			}
		}

		/*********end loder 2*********/
		@media screen and (max-width: 1000px) {
			.btnsyesno {
				text-align: right;
			}

			input.inputnotice {
				width: 100%;
			}
		}

		@media screen and (max-width: 750px) {
			.inputdiv.indays1.col-md-4.col-sm-4 {
				text-align: left;
			}
		}
	</style>
	<script src="ClientGlobalContext.js.aspx" type="text/javascript"></script>
	<script type="text/javascript">

	
		var closedate;
		var actualrevenue;
		var contractstartdate;
		var stepname;
		var notessubject = "{{Contract--";
		var formLabel;
		var OppID = window.opener.Xrm.Page.data.entity.getId();
		OppID = OppID.replace("{", "").replace("}", "");
		console.log("Opportunity ID "+OppID);
		function getOppData() {
			formLabel = window.opener.Xrm.Page.ui.formSelector.getCurrentItem().getLabel();
			console.log(formLabel);
			window.opener.Xrm.WebApi.retrieveRecord("opportunity", OppID, "?$select=estimatedclosedate,ss_contractenddate,actualclosedate,estimatedvalue,stepname,ss_contractstartdate").then(
				function success(result) {
					console.log(result);
					getOppFields(result);
				},
				function (error) {
					console.log("Errro: " + error.message);
					alert(error.message);
				}
			);
		}
		$(document).ready(function () {

         //nh================================
		         $('body').on('click', '#eInvoice',function(){
					
			    	$("#E_Invoice").toggle();
			            });

		        $('body').on('click', '#E_InvoiceEmail', function()
					{
						
						$("#E_InvoiceEmail").removeClass("error");
						$("#eInvoiceError").css("display","none");	
					});			
		 //================================nh
			//Yes No main Options/ yyyyyyyyy
			$('body').on('click', '.radioBtn a', function () {
				var data = $(this).data('title');
				var tog = $(this).data('toggle');
				$('#' + tog).prop('value', data);
				$('a[data-toggle="' + tog + '"]').not('[data-title="' + data + '"]').removeClass('active').addClass('notActive');
				$('a[data-toggle="' + tog + '"][data-title="' + data + '"]').removeClass('notActive').addClass('active');
			});
			//reset all html 102
			var allhtml = $(".otherfields").html();
			var currenthtml;
			var paymenttermdaysother,paymenttermdaysselected;
			setTimeout(function(){
				allhtml = $(".otherfields").html();
			},2000);
			$("body").on('click', '#resetall', function () {
				debugger;
				if($(this).prop("checked") == true){
					//currenthtml = $(".otherfields").html();
					$(currenthtml).val("");
					currenthtml = $(".questions_inner").clone();
					paymenttermdaysother = $("#payment_term_days_other").val();
					paymenttermdaysselected = $("#payment_term_days").val();
					$(".otherfields").html(allhtml);
            }else{
					$(".questions").html(currenthtml);
					$("#payment_term_days_other").val(paymenttermdaysother);
					$("#payment_term_days").val(paymenttermdaysselected);
				}
			});
			//****** Show hide text fields 
			$("body").on('click', '.textdiv', function () {
				var thisvalue = $(this).parent().find("input[type=hidden]").val();
				var attrid = $(this).parent().find("input[type=hidden]").attr("id");
				if(thisvalue == 0) {
					$("." + attrid + "_tdiv").removeClass('hideit');
				} else {
					$("." + attrid + "_tdiv").addClass('hideit');
				}
				//for question 4.2 
				if(thisvalue == 1 && attrid == "special_notice"){
					$("." + attrid + "_tdiv").removeClass('hideit');
				} else if (attrid == "special_notice"){
					$("." + attrid + "_tdiv").addClass('hideit');
				}
				//for question 6.1 
				if(thisvalue == 1 && attrid == "restriction"){
					$("." + attrid + "_tdiv").removeClass('hideit');
				} else if (attrid == "restriction"){
					$("." + attrid + "_tdiv").addClass('hideit');
				}
				//for question 6.2 
				if(thisvalue == 1 && attrid == "restriction_change"){
					$("." + attrid + "_tdiv").removeClass('hideit');
				} else if (attrid == "restriction_change"){
					$("." + attrid + "_tdiv").addClass('hideit');
				}
			});

			$("body").on('click','#payment_term_days', function(){
				var selecteddays = $("#payment_term_days").val();
				if(selecteddays == "100001"){
					$(".otherdays").removeClass("hideit");
				}else{
					$(".otherdays").addClass("hideit");
				}
			});
			
			//**** Reset Question 4 content
			var q4html = $(".q4_inner").html();
			$("body").on('click', '.q4', function () {
				var q4_value = $("#ChangesToEqsTerms").val();
				if(q4_value == 0) {
					$(".q4_inner").html(q4html);
				}
			});
			//Reset Question 6 content
			var q6html = $(".q6_inner").html();
			$("body").on('click', '.q6', function () {
				var q6_value = $("#eqs_template_data").val();
				if(q6_value == 0) {
					$(".q6_inner").html(q6html);
				}
			});
			//Reset Question 3 content
			var q3html = $(".q3_inner").html();
			$("body").on('click', '.q3', function () {
				var q3_value = $("#standard_price").val();
				if(q3_value == 0) {
					$(".q3_inner").html(q3html);
				}
			});
			//Reset Question 2 content  
			var q2html = $(".q2_inner").html();
			$("body").on('click', '.q2', function () {
				var q2_value = $("#payment_terms").val();
				if(q2_value == 0) {
					$(".q2_inner").html(q2html);
				}
			});

			//part 1 click function  
			$("body").on('click','.part1 .btnsyesno a', function(){
				
				let part1val = $("#standard_contract_length").val();
				if(part1val == "0"){
					alert("Please edit value");
					$('#cap_on_price_percent option:eq(1)').prop('selected', true)
					$(".q2_inner, .q2_1_inner, .q3_inner, .q3_1_inner, .q3_1_1_inner, .q3_2_inner").removeClass("hideit");
					$(".part1Questions .btnsyesno a").each(function(){
        				$(this).addClass("notActive").removeClass("active");
					});
					$(".part1Questions .btnsyesno .nabtn").each(function(){
						  $(this).addClass("active").removeClass("notActive");
						  $(".part1Questions .btnsyesno input").val(2);
					});
				}else if(part1val == "1"){
					$(".q2_inner, .q3_inner, .q2_1_inner, .q3_1_inner, .q3_1_1_inner, .q3_2_inner, .q3_inner").removeClass("hideit");

					$(".part1Questions a.btn").each(function(){
						$(".part1Questions a.btn").addClass("notActive").removeClass("active");
						$(".part1Questions a.yesbtn").addClass("active").removeClass("notActive");
						$(".part1Questions .btnsyesno input").val(1);
					});
					//for 3.1.1.  
					$(".part1Questions a.q3_1_1").addClass("notActive").removeClass("active");
					$(".part1Questions .q3_1_1.nobtn").addClass("active").removeClass("notActive");
					$(".part1Questions input#cap_on_price_increases").val(0);
					// $(".p1pq").each(function(){
					// 	let thisid = $(this).find("input").attr("id");
					// 	let data_toggle = $(this).find("a").attr("data-toggle");
					// 	let data_title = $(this).find("a").attr("data-title");
					// 	//console.log("input id =>"+thisid+ " toggle=>"+data_toggle+" title=>"+data_title);
					// 	if(thisid == data_toggle && data_title == "1"){
					// 		//console.log(thisid +"---" +data_toggle);
					// 		$(".p1pq input#"+thisid).val("1");
					// 		$(".p1pq a[data-toggle="+data_toggle+"]").addClass("notActive").removeClass("active");
					// 		$(".p1pq a[data-toggle="+data_toggle+"][data-title="+data_title+"]").addClass("active").removeClass("notActive");
					// 	}
					// });
				}
			});

/////COMMENT FOR PROD
			//part 2 click function  
			/*$("body").on('click','.part2 .btnsyesno a', function(){
				
				let part2val = $("#standard_contract_terms").val();
				if(part2val == "0"){
					alert("Please edit value");
					$(".q4_inner, .q5_inner, .q6_inner, .q7_inner").removeClass("hideit");
					$(".part2Questions .btnsyesno a").each(function(){
        				$(this).addClass("notActive").removeClass("active");
					});
					$(".part2Questions .btnsyesno .nabtn").each(function(){
						  $(this).addClass("active").removeClass("notActive");
						  $(".part2Questions .btnsyesno input").val(2);
					});
				}else if(part2val == "1"){
					$(".q4_inner, .q5_inner, .q6_inner, .q7_inner").removeClass("hideit");
					$(".part2Questions a.btn").removeClass("active").addClass("notActive");

					$(".part2Questions .q4 .nobtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#ChangesToEqsTerms").val(0);

					$(".part2Questions .q4_1 .yesbtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#customer").val(1);

					$(".part2Questions .q4_2 .nobtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#special_notice").val(0);

					$(".part2Questions .q4_3 .nobtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#liability").val(0);

					$(".part2Questions .q4_4 .yesbtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#assignment").val(1);

					$(".part2Questions .q5 .nobtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#slas").val(0);

					$(".part2Questions .q5_1 .yesbtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#standard_slas").val(1);

					$(".part2Questions .q6 .yesbtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#eqs_template_data").val(1);

					$(".part2Questions .q6_1 .nobtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#restriction").val(0);

					$(".part2Questions .q6_2 .nobtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#restriction_change").val(0);

					$(".part2Questions .q7 .nobtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#security_requirements").val(0);

					$(".part2Questions .q7_1 .yesbtn").removeClass("notActive").addClass("active");
					$(".part2Questions .btnsyesno input#EQS_standard_TOM").val(1);
					
					// $(".p2pq").each(function(){
					// 	let thisid = $(this).find("input").attr("id");
					// 	let data_toggle = $(this).find("a").attr("data-toggle");

					// 	$(this).find("a").each(function(){
					// 		let data_title = $(this).attr("data-title");
					// 		//console.log("input id =>"+thisid+ " toggle=>"+data_toggle+" title=>"+data_title);
					// 		if(thisid == data_toggle && data_title == "0" && data_toggle != "eqs_template_data"){
					// 			//console.log(thisid +"---" +data_toggle);
					// 			$(".p2pq input#"+thisid).val("0");
					// 			$(".p2pq a[data-toggle="+data_toggle+"]").addClass("notActive").removeClass("active");
					// 			$(".p2pq a[data-toggle="+data_toggle+"][data-title="+data_title+"]").addClass("active").removeClass("notActive");
					// 		}
					// 		//for Question 6
					// 		if(thisid == data_toggle && data_title == "1" && data_toggle == "eqs_template_data"){
					// 			//console.log(thisid +"-Q6-" +data_toggle);
					// 			$(".p2pq input#"+thisid).val("1");
					// 			$(".p2pq a[data-toggle="+data_toggle+"]").addClass("notActive").removeClass("active");
					// 			$(".p2pq a[data-toggle="+data_toggle+"][data-title="+data_title+"]").addClass("active").removeClass("notActive");
					// 		}
					// 	});

						
					// });
				}
			});*/
			
			// First Part Show Hide Fields
			$("body").on('click', '.firstpart a', function() {
				var classname;
				var thisvalue = $(this).parent().find("input[type=hidden]").val();
				var c = $(this).attr('class').split(/\s+/);
		       	for(var s in c)
		        	if(c[s].indexOf('q') == 0)
		            	classname = c[s];
		        if(thisvalue == 0){
		        	$("." + classname + "_inner").removeClass('hideit');
				} else {
					$("." + classname + "_inner").addClass('hideit');
		        }
		        if(thisvalue == 1 && classname == "q3_1_1"){
		        	$("." + classname + "_inner").removeClass('hideit');
				} else if(thisvalue == 0 && classname == "q3_1_1"){
					$("." + classname + "_inner").addClass('hideit');
		        }
				
			});
			/////COMMENT FOR PROD
			// Second part Show Hide Fields
			// $("body").on('click', '.secondpart a', function () {
			// 	var classname;
			// 	var thisvalue = $(this).parent().find("input[type=hidden]").val();
			// 	var c = $(this).attr('class').split(/\s+/);
		 //       	for(var s in c)
		 //        	if(c[s].indexOf('q') == 0)
		 //            	classname = c[s];
		 //        if(thisvalue == 1){
		 //        	$("." + classname + "_inner").removeClass('hideit');
			// 	} else {
			// 		$("." + classname + "_inner").addClass('hideit');
		 //        }
		 //        if(thisvalue == 0 && classname == "q6"){
		 //        	$("." + classname + "_inner").removeClass('hideit');
			// 	} else if(thisvalue == 1 && classname == "q6"){
			// 		$("." + classname + "_inner").addClass('hideit');
		 //        }
				
			// });
		});
		function getOppFields(result) {
			
			$("#closedate").val(new Date().toISOString().substring(0, 10));
			//console.log(output);
			actualrevenue = result["estimatedvalue"];
			stepname = result["stepname"];
			document.getElementById('actualrevenue').value = result["estimatedvalue@OData.Community.Display.V1.FormattedValue"];
			document.getElementById('expDate').innerHTML = result["ss_contractenddate@OData.Community.Display.V1.FormattedValue"];
		}
		////CLOSE OPPORTUNITY METHOD
		function CloseOpportuntiy() {
			///new request
			var Sdk = window.Sdk || {};
			/**
			 * Request to win an opportunity
			 * @param {Object} opportunityClose - The opportunity close activity associated with this state change.
			 * @param {number} status - Status of the opportunity.
			 */
			Sdk.WinOpportunityRequest = function (opportunityClose, status) {
			    this.OpportunityClose = opportunityClose;
			    this.Status = status;

			    this.getMetadata = function () {
			        return {
			            boundParameter: null,
			            parameterTypes: {
			                "OpportunityClose": {
			                    "typeName": "mscrm.opportunityclose",
			                    "structuralProperty": 5 // Entity Type
			                },
			                "Status": {
			                    "typeName": "Edm.Int32",
			                    "structuralProperty": 1 // Primitive Type
			                }
			            },
			            operationType: 0, // This is an action. Use '1' for functions and '2' for CRUD
			            operationName: "WinOpportunity",
			        };
			    };
			};


			var opportunityClose = {
			    "opportunityid@odata.bind": "/opportunities(" + OppID + ")",
				"actualrevenue": actualrevenue,
				//"actualend": new Date(),
				"actualend": $("#closedate").val(),
				"description": " "
			}

			// Construct a request object from the metadata
			var winOpportunityRequest = new Sdk.WinOpportunityRequest(opportunityClose, 3);

			// Use the request object to execute the function
			window.opener.Xrm.WebApi.online.execute(winOpportunityRequest).then(
			    function (result) {
			        if (result.ok) {
			        	window.opener.Xrm.Page.data.refresh(true);
			            console.log("Status: %s %s", result.status, result.statusText);
			            alert("Opportunity closed as Won Successfully.");
						window.close();
			            // perform other operations as required;
			        }
			    },
			    function (error) {
			    	alert("Error! "+error.message);
			        console.log(error.message);
			        window.close();
			        // handle error conditions
			    }
			);
			///end new request
		}
		function ShowHideFields() {

			var payment_termdays = $("#payment_term").val();
			var payment_terms = $("#payment_terms").val(); //2
			// var ispayment_terms_14 = $("#ispayment_terms_14").val() == 1 ? true : false; //2.1
			var payment_term_days = $("#payment_term_days").val(); //2.1 dropdwon
			var billing_upon_signature = $("#billing_upon_signature").val() == 1 ? true : false; //2.2
			var standard_price = $("#standard_price").val() == 1 ? true : false; //3
			var annual_increases = $("#annual_increases").val() == 1 ? true : false; //3.1
			var cap_on_price_increases = $("#cap_on_price_increases").val() == 1 ? true : false; //3.1.1
			var cap_on_price_percent = $("#cap_on_price_percent").val(); //3.1.1  dropdwon
			var other_price = $("#other_price").val() == 1 ? true : false; //3.2
			var increases_allowed = $("#increases_allowed").val() == 1 ? true : false; //3.2.1
			var stand_noti = $("#stand_noti").val() == 1 ? true : false; //3.2.2

		}
		function CheckValidation(CheckContract) {
			$('input,select,.part1,.part2').removeClass('error');
			//Nh=====================================
			var e_Invoice = $("#eInvoice").is(":checked");
		    var e_Invoice_email = $("#E_InvoiceEmail").val();
		    e_Invoice_email = e_Invoice_email.trim();
		    if(e_Invoice && e_Invoice_email =="")
		        {
		     	$("#E_InvoiceEmail").addClass("error");
				 $("#eInvoiceError").html("Please fill this E-Invoice E-mail field");	
				 $("#eInvoiceError").show();				
				 return;
		        }
				else if(e_Invoice && e_Invoice_email !=="")
				{
					var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
					if(!regex.test(e_Invoice_email)) {
						$("#eInvoiceError").html("Please enter valid email");	
						$("#eInvoiceError").show();	
						$("#E_InvoiceEmail").addClass("error");	
						return;				
					}
				}
			//=======================================nH
			var payment_termdays = $("#payment_term").val();
			var payment_terms = $("#payment_terms").val() == 1 ? true : false; //2
			var ispayment_terms_14 = $("#ispayment_terms_14").val() == 1 ? true : false; //2.1
			var payment_term_days = $("#payment_term_days").val(); //2.1 dropdwon
			var billing_upon_signature = $("#billing_upon_signature").val() == 1 ? true : false; //2.2
			var standard_price = $("#standard_price").val() == 1 ? true : false; //3
			var annual_increases = $("#annual_increases").val() == 1 ? true : false; //3.1
			var cap_on_price_increases = $("#cap_on_price_increases").val() == 1 ? true : false; //3.1.1
			var cap_on_price_percent = $("#cap_on_price_percent").val(); //3.1.1  dropdwon
			var other_price = $("#other_price").val() == 1 ? true : false; //3.2
			var increases_allowed = $("#increases_allowed").val() == 1 ? true : false; //3.2.1
			var stand_noti = $("#stand_noti").val() == 1 ? true : false; //3.2.2

			//Check Section Parent Questions are attempted
			var part1value = $("#standard_contract_length").val();
			var part2value = $("#standard_contract_terms").val();
			console.log("part1 =>"+part1value+" part2 =>"+part2value);
			if(part1value == undefined || part1value == ""){
				alert('Please make sure you have selected Yes/No for "Standard Contract length, payment terms and pricing"."');
				$(".part1").addClass("error");
				throw new Error('Please make sure you have selected Yes/No for "Standard Contract length, payment terms and pricing".');
			}
			/////COMMENT FOR PROD
			/*else if(part2value == undefined || part2value == ""){
				alert('Please make sure you have selected Yes/No for "Standarad contract terms."');
				$(".part2").addClass("error");
				throw new Error('Please make sure you have selected Yes/No for "Standarad contract terms.');
			}*/

			if (payment_termdays == 0) {
				$("#payment_term").addClass('error');
				alert("Please enter payment term days");
				throw new Error("Please enter payment term days");
			}
			var errorAlert = 0;
			var throwError = 0;
			var closedatevalue = $("#closedate").val();
			console.log("close date ="+closedatevalue);
			if(closedatevalue == ""){
				alert("Please enter Close Date");
				throw new Error("Please enter Close Date");
			}
			$(".otherfields .textfielddiv").each(function(){
				if($(this).hasClass("hideit") == false){
					var thistext = $(this).find("input").val();
					if(thistext.length == 0){
						$(this).find("input").addClass('error');
						if(errorAlert ==0){
							alert("Please write all text fields");
							errorAlert = 1;
						}
						throwError = 1;
					}
				}
			});
			if(throwError == 1){
				throw new Error("Please write all text fields");
			}
			var termdays = $("#payment_term_days").val();
			if(termdays != 100001){
				$("#payment_term_days_other").val(termdays);
			}
			CheckContract(CheckBusinessStage);
		}
		function CheckContract(CheckBusinessStage) {
			//alert("Business Stage Called");
			window.opener.Xrm.WebApi.retrieveMultipleRecords("annotation", "?$select=subject&$filter=_objectid_value eq " + OppID + " and notetext eq '{{Contract--'").then(
				function success(result) {
					console.log("Contracts=>" +result.entities.length);
					if(result.entities.length <= 0) { 
						if(formLabel == "IR - DE" ||formLabel == "EQS - UK" ||formLabel == "EQS - Asia" ||formLabel == "EQS - RU"){
							alert("Please Upload the Contract");
							window.close();
							console.log("Please Upload the Contract");
						}else{
							CheckBusinessStage(updateOpp);
						}
						
						//window.close(); 
					} else {
						CheckBusinessStage(updateOpp);
					}
				},
				function (error) {
					alert("Error: " + error.message);
				}
			);
		}
		function CheckBusinessStage(updateOpp) {
			if(stepname != "4-Close") {
				alert("Please Complete all the Business Stages.");
				console.log("Please Complete all the Business Stages.");
				window.close();
			}
			else { //alert("Close Opportunity Called");
				updateOpp(CloseOpportuntiy);
			}
		}
		//updop 
		function updateOpp(CloseOpportuntiy) {
			$(".loaderdiv").removeClass("hideit");
			var entity = {};
			entity.actualclosedate = $("#closedate").val();
			//entity.ss_allstandard = $("#all_standard").val() == 1 ? true : false;
            //Nh====================================
			var e_Invoice = $("#eInvoice").is(":checked");
		    var e_Invoice_email = $("#E_InvoiceEmail").val();
		    e_Invoice_email = e_Invoice_email.trim();
		      if(e_Invoice)
		        {
					entity.ss_einvoice = e_Invoice;
					entity.ss_einvoiceemail = e_Invoice_email;
		        }
			//====================================nH
			entity.ss_standardcontractlength = $("#standard_contract_length").val() == 1 ? true : false; //Q1parent
			entity.ss_autorenewalforsubscriptionterm = $("#auto_renewal").val();// 1
			entity.ss_standardpaymentterms = $("#payment_terms").val(); //2
			entity.ss_paymentterm14days = $("#ispayment_terms_14").val(); //2.1
			entity.ss_paymenttermdays = $("#payment_term_days").val(); //2.1 dropdwon
			entity.ss_paymenttermdaysother = $("#payment_term_days_other").val(); //2.1 other days
			entity.ss_billinguponsignature = $("#billing_upon_signature").val(); //2.2
			entity.ss_standardpriceincreases = $("#standard_price").val(); //3
			entity.ss_annualincrease = $("#annual_increases").val(); //3.1
			entity.ss_caponpriceincreases = $("#cap_on_price_increases").val(); //3.1.1
			entity.ss_priceincreases = $("#cap_on_price_percent").val(); //3.1.1  dropdwon
			entity.ss_otherpriceincreases = $("#other_price").val(); //3.2
			entity.ss_increasesallowed = $("#increases_allowed").val(); //3.2.1
			entity.ss_standardnotificationreq = $("#stand_noti").val(); //3.2.2

			/////COMMENT FOR PROD
			// *** SECOND PART ***

			/*entity.ss_standaradcontractterms = $("#standard_contract_terms").val() == 1 ? true : false;//Q2parent
			entity.ss_changestoeqsterms = $("#ChangesToEqsTerms").val(); //4
			entity.ss_customercanbeusedasreference = $("#customer").val(); //4.1
			//entity.ss_customerrightstoauditeqs = $("#customer_rights").val() == 1 ? true : false; //4.2
			entity.ss_specialnotice = $("#special_notice").val(); //4.3
			entity.ss_specialnoticetext = $("#special_notice_text").val(); //4.3 text
			entity.ss_limitationofliability = $("#liability").val(); //4.4
			entity.ss_limitationofliabilitytext = $("#liability_text").val(); //4.4 text
			entity.ss_assignmentlanguage = $("#assignment").val(); //4.5
			entity.ss_slasagreement = $("#slas").val(); //5
			entity.ss_standardslas = $("#standard_slas").val(); //5.1
			entity.ss_standardslastext = $("#standard_slas_text").val(); //5.1 text
			entity.ss_eqstemplatedata = $("#eqs_template_data").val(); //6
			entity.ss_restrictionondatacenterlocation = $("#restriction").val(); //6.1
			entity.ss_restrictionondatacenterlocationtext = $("#restriction_text").val(); //6.1 text
			entity.ss_restrictionsonchange = $("#restriction_change").val(); //6.2
			entity.ss_restrictionsonchangetext = $("#restriction_change_text").val(); //6.2 text
			entity.ss_securityrequirements = $("#security_requirements").val(); //7
			entity.ss_eqstoms = $("#EQS_standard_TOM").val(); //7.1
			entity.ss_eqstomstext = $("#EQS_standard_TOM_text").val(); //7.1 text
	*/

			//alert("Close Opp");
			window.opener.Xrm.WebApi.online.updateRecord("opportunity", OppID, entity).then(
			    function success(result) {
			        //var updatedEntityId = result.id;
			        CloseOpportuntiy();
			    },
			    function(error) {
			    	console.log(error.message+"=="+JSON.stringify(entity));
			        Xrm.Utility.alertDialog("Updateion Failed "+ error.message);
			        $(".loaderdiv").addClass("hideit");
			    }
			);
		}
		function CancelIt() {
			window.close();
		}	
	</script>
</head>

<body onload="getOppData()" class="scrollbar " id="style-7">
	<div class="loaderdiv hideit">
		<!-- <div class="loader"></div> -->
		<div class="lds-spinner">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>
	</div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
					<h2 onclick="">Close Opportunity</h2>
					<p class="bold">Please provide the following information about why this Opportunity is being closed.</p>
			</div>
			<div class="col-md-12 col-xs-12 mt20">
				<div class="col-md-8 col-xs-12 p0 revenuedate">
						<div class="col-md-6 col-xs-6 ">
								<label><strong>Actual Revenue*</strong></label> 
								<strong><input style="width:100px" class="input-sm input130" readonly="" type="text" id="actualrevenue"
									name="actualrevenue"></strong>
						</div>
						<div class="col-md-6 col-xs-6 ">							
								<label><strong>Close Date*</strong></label>
								<strong><input style="width:132px" class="input-sm input130" type="date" id="closedate"
									name="closedate"></strong>
						</div>
				</div>
				<div class="col-md-4 col-xs-12 p0 resetdiv">
						<div class="col-md-12 col-xs-12">
								<p><span class="resetcheckbox"><input type="checkbox" class="custom-control-input" id="resetall" name="reset"></span><span class="resettext"><strong>Set to default value</strong></span> </p>
						</div>
				</div>	
					
			</div>
		</div>
		<div class="row " id="eInvoicedivMain">
			<div class="col-md-3 col-sm-5 col-xl-3 col-xs-8" id="eInvoicediv">
				<p><span class="eInvoiceCheckbox"><input type="checkbox" class="custom-control-input" id="eInvoice" name="eInvoice"></span><span class="resettext"><strong>E-Invoice</strong></span> </p>
				<div class="form-group" id="E_Invoice">
					<input type="email" class="form-control" id="E_InvoiceEmail" aria-describedby="emailHelp" placeholder="Enter E-Invoice E-mail">					
				    <span id="eInvoiceError"></span>
				</div>
			</div>
		</div>
		<div class="row">
			
			<!-- 104 -->
			<div class="col-md-12 co1-sm-12 col-xs-12 mb8">
				
				
						 
				</div> 
				<div class="btnsyesno1 col-md-9 col-xs-6">
						
				</div>
			</div>
		</div>
		<div class="row otherfields questions" id="questions" onclick="">
			<div class="questions_inner">
				<!-- **********1 Contract length, payment terms and pricing *************101 -->
			<div class="contractlength col-sm-12 firstpart">
					<div class="crmfield col-sm-12">
						<!-- <p class="bold">I. Standard Contract length, payment terms and pricing</p> -->
	
						<div class="radioBtn crmfield mainQues part1 pl0 btn-group col-md-12 mb8">
							<div class="fieldlabel col-sm-6 part1q">
								<label><span class="QNumber bold">I. Standard Contract length, payment terms and pricing</span></label>
							</div>
							<div class="btnsyesno col-sm-6 pl0 part1qyn">
								<a class="btn btn-primary btn-sm " data-toggle="standard_contract_length"
									data-title="1"><span class="glyphicon glyphicon-ok-sign"></span> YES</a>
								<a class="btn btn-primary btn-sm nobtn " data-toggle="standard_contract_length" data-title="0"><span
									class="glyphicon glyphicon-remove-sign"></span> NO</a>
								<input type="hidden" name="standard_contract_length" value="" id="standard_contract_length">
							</div>
						</div>
						<!-- Part 1 Questions -->
						<div class="row part1Questions">
							<!-- Question 1 -->
							<div class="radioBtn crmfield btn-group col-xs-12 col-sm-12 col-md-12 mb8">
								<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
									<label><span class="QNumber">1.</span> Auto-renewal of subscription?*</label>
								</div>
								<div class="btnsyesno col-sm-6 col-xs-6 col-md-4 p1pq">
									<a class="btn btn-primary btn-sm yesbtn" data-toggle="auto_renewal"
										data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn active" data-toggle="auto_renewal" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm nobtn " data-toggle="auto_renewal" data-title="0">NO</a>
									<input type="hidden" class="" name="auto_renewal" value="2" id="auto_renewal">
								</div>
							</div>
							<div class="col-md-12 com-sm-12">
								<p class="col-md-12"><strong class="pl13"> Expiration Date: <span
											id="expDate"></span></strong></p>
							</div>
							<!-- Question 2 -->
							<div class="radioBtn crmfield btn-group col-md-12 col-sm-12 col-xs-12 mb8">
								<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
									<label><span class="QNumber">2.</span> Standard Payment Terms?*</label>
								</div>
								<div class="btnsyesno col-sm-6 col-xs-6 col-md-4 q2click p1pq">
									<a class="btn btn-primary btn-sm terms yesbtn textdiv q2 " data-toggle="payment_terms"
										data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn q2 active" data-toggle="payment_terms" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm terms q2 nobtn textdiv" data-toggle="payment_terms"
										data-title="0">NO</a>
									<input type="hidden" class="" name="payment_terms" value="2" id="payment_terms">
								</div>
	
							</div>
							<!--  new-->
							<!-- **** QUESTION 2 INNER **** -->
							<div class="col-md-12 q2_inner hideit pr0">
								<div class="radioBtn crmfield btn-group col-md-12 col-sm-12 col-xs-12 mb8  q2_1">
									<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
										<label><span class="QNumber">2.1.</span> Payment term 14 days?*</label>
									</div>
									<div class="btnsyesno col-sm-6 col-xs-6 col-md-4 q21click">
										<a class="btn btn-primary btn-sm terms yesbtn textdiv q2_1 active"
											data-toggle="ispayment_terms_14" data-title="1">YES</a>
										<a class="btn btn-primary btn-sm nabtn q2_1" data-toggle="ispayment_terms_14" data-title="2">N/A</a>
										<a class="btn btn-primary btn-sm terms textdiv nobtn q2_1" data-toggle="ispayment_terms_14"
											data-title="0">NO</a>
										<input type="hidden" name="ispayment_terms_14" value="1" id="ispayment_terms_14">
										<p class="paymenttermdays2 hideit q2_1_inner mt10"> Select Days
											<select class="selectin input-sm" name="payment_term_days"
												id="payment_term_days">
												<option value="0">--</option>
												<option selected="" value="14">14 Days</option>
												<option value="30">30 Days</option>
												<option value="45">45 Days</option>
												<option value="60">60 Days</option>
												<option value="100001">Other</option>
											</select>
											
										</p>
										
									</div>
									<p class="col-md-12 col-sm-12 col-xs-12 otherdays text-right hideit">
										<span>Please enter no of days:  </span><input type="number" min = "0"  class="termdaysother" id="payment_term_days_other" onkeypress='return event.charCode >= 48 && event.charCode <= 57 || event.key === "Backspace"' />
									</p>
								</div>
								<div class="radioBtn crmfield btn-group col-md-12 col-sm-12 col-xs-12 mb8 q2_2">
									<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
										<label><span class="QNumber">2.2.</span> Billing upon signature?</label>
									</div>
									<div class="btnsyesno col-sm-6 col-xs-6 col-md-4">
										<a class="btn btn-primary btn-sm yesbtn active" data-toggle="billing_upon_signature"
											data-title="1">YES</a>
										<a class="btn btn-primary btn-sm nabtn " data-toggle="billing_upon_signature" data-title="2">N/A</a>
										<a class="btn btn-primary btn-sm nobtn" data-toggle="billing_upon_signature"
											data-title="0">NO</a>
										<input type="hidden" name="billing_upon_signature" value="1"
											id="billing_upon_signature">
									</div>
								</div>
							</div>
							<!-- Question 2 -->
							<div class="radioBtn crmfield btn-group col-md-12 col-sm-12 col-xs-12 mb8">
								<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
									<label><span class="QNumber">3.</span> Standard price increases?*</label>
								</div>
								<div class="btnsyesno col-sm-6 col-xs-6 col-md-4 q3click p1pq">
									<a class="btn btn-primary btn-sm yesbtn textdiv q3 " data-toggle="standard_price" data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn q3 active" data-toggle="standard_price" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm textdiv nobtn q3" data-toggle="standard_price"
										data-title="0">NO</a>
									<input type="hidden" class="" name="standard_price" value="2" id="standard_price">
								</div>
							</div>
							<!-- **** QUESTION3 INNER **** -->
							<div class="col-md-12 q3_inner hideit pr0">
								<div class="radioBtn crmfield btn-group col-md-12 col-xs-12 mb8 ">
									<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
										<label><span class="QNumber">3.1.</span> Automatic Annual increase?*</label>
									</div>
									<div class="btnsyesno col-sm-6 col-xs-6 col-md-4 q31click">
										<a class="btn btn-primary btn-sm ainc yesbtn textdiv q3_1 active" data-toggle="annual_increases" data-title="1">YES</a>
										<a class="btn btn-primary btn-sm nabtn q3_1 notActive" data-toggle="annual_increases" data-title="2">N/A</a>
										<a class="btn btn-primary btn-sm ainc textdiv nobtn q3_1 " data-toggle="annual_increases" data-title="0">NO</a>
										<input type="hidden" name="annual_increases" value="1" id="annual_increases">
									</div>
								</div>
								<!-- *** QUESTION 3.1 INNER *** -->
								<div class="col-md-12 pr0 hideit q3_1_inner">
									<div class="radioBtn crmfield btn-group col-md-12 col-xs-12 mb8 q311">
										<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
											<label><span class="QNumber">3.1.1.</span> Cap on price increases?</label>
										</div>
										<div class="btnsyesno col-sm-6 col-xs-6 col-md-4 q311click">
											<a class="btn btn-primary btn-sm yesbtn q3_1_1" data-toggle="cap_on_price_increases" data-title="1">YES</a>
											<a class="btn btn-primary btn-sm nabtn q3_1_1 notActive" data-toggle="cap_on_price_increases" data-title="2">N/A</a>
											<a class="btn btn-primary btn-sm q3_1_1 nobtn active" data-toggle="cap_on_price_increases" data-title="0">NO</a>
											<input type="hidden" name="cap_on_price_increases" value="0"
												id="cap_on_price_increases">
											<p class="cap_pinpercent hideit q3_1_1_inner mt10"><span class="QNumber"></span> <span
													class="inpercent">in <select class="selectin input-sm"
														id="cap_on_price_percent">
														<option value="0">0%</option>
														<option value="1">1%</option>
														<option value="2">2%</option>
														<option selected="" value="3">3%</option>
														<option value="4">4%</option>
														<option value="5">5%</option>
														<option value="6">6%</option>
														<option value="7">7%</option>
														<option value="8">8%</option>
													</select></span></p>
										</div>
									</div>
								</div>
	
								<div class="radioBtn crmfield btn-group col-md-12 col-xs-12 mb8">
									<div class="fieldlabel col-sm-6 col-xs-6 col-md-8">
										<label><span class="QNumber">3.2.</span> Other price increases outside of annual
											increases standard</label>
									</div>
									<div class="btnsyesno col-sm-6 col-xs-6 col-md-4 q32click">
										<a class="btn btn-primary btn-sm yesbtn q3_2 active" data-toggle="other_price" data-title="1">YES</a>
										<a class="btn btn-primary btn-sm nabtn q3_2 notActive" data-toggle="other_price" data-title="2">N/A</a>
										<a class="btn btn-primary btn-sm nobtn q3_2" data-toggle="other_price" data-title="0">NO</a>
										<input type="hidden" name="other_price" value="1" id="other_price">
									</div>
								</div>
								<!-- *** QUESTION 3.2 INNER *** -->
								<div class="col-md-12 pr0 q3_2_inner hideit">
									<div class="radioBtn crmfield btn-group col-md-12 col-xs-12 mb8">
										<div class="fieldlabel col-sm-6 col-xs-6 col-md-8 pl16">
											<label><span class="QNumber">3.2.1.</span> Increases allowed</label>
										</div>
										<div class="btnsyesno col-sm-6 col-xs-6 col-md-4">
											<a class="btn btn-primary btn-sm yesbtn active" data-toggle="increases_allowed" data-title="1">YES</a>
											<a class="btn btn-primary btn-sm nabtn notActive" data-toggle="increases_allowed" data-title="2">N/A</a>
											<a class="btn btn-primary btn-sm nobtn " data-toggle="increases_allowed"
												data-title="0">NO</a>
											<input type="hidden" name="increases_allowed" value="1" id="increases_allowed">
											<!-- <p class="indays2 hideit"><input type="number" id="notifi_days" class="input-sm" value="0" name="notifi_days"> in days</p> -->
										</div>
									</div>
									<div class="radioBtn crmfield btn-group col-md-12 col-xs-12 mb8 ">
										<div class="fieldlabel col-sm-6 col-xs-6 col-md-8 pl16">
											<label><span class="QNumber">3.2.2.</span> Standard notification requirements
												for price increases</label>
										</div>
										<div class="btnsyesno col-sm-6 col-xs-6 col-md-4">
											<a class="btn btn-primary btn-sm yesbtn stand_noticl active" data-toggle="stand_noti" data-title="1">YES</a>
											<a class="btn btn-primary btn-sm nabtn notActive" data-toggle="stand_noti" data-title="2">N/A</a>
											<a class="btn btn-primary btn-sm nobtn stand_noticl" data-toggle="stand_noti" data-title="0">NO</a>
											<input type="hidden" name="stand_noti" value="1" id="stand_noti">
										</div>
									</div>
								</div> <!-- q3_2_inner end -->
							</div> <!-- q3_inner end -->
	
							<div class="crmfield btn-group col-md-12 col-xs-12 mb8">
								
							</div>
	
	
						</div>
						<!--  -->
						<div class="col-md-12 btnrow">
					<div class="actionbtns">
						<div class="submitbtn">
							<button id="submit" onclick="CheckValidation(CheckContract)">Ok</button>
						</div>
						<div class="cancelbtn">
							<button id="cancel" onclick="CancelIt()">Cancel</button>
						</div>
					</div>

			</div>
					</div>
	
				</div> <!-- end contract length 6 columns-->
	
				<!-- /////COMMENT FOR PROD -->
				<!-- **********11 Other Terms ************* -->
	
				<div class="sladiv col-sm-6 col-md-6 secondpart">
					<!-- <p class="bold">II. Standarad contract terms</p>  -->
	
					<!-- <div class="radioBtn plr0 mainQues part2 crmfield btn-group col-md-12 col-xs-12 mb8"> -->
						<!--/////COMMENT FOR PROD  -->
						<!-- <div class="fieldlabel part2q">
							<label><span class="QNumber bold">II. Standard contract terms</span></label>
						</div> -->
						<!-- <div class="btnsyesno part2qyn">
									<a class="btn btn-primary btn-sm" data-toggle="standard_contract_terms" data-title="1"><span class="glyphicon glyphicon-ok-sign"></span> YES</a>
									<a class="btn btn-primary btn-sm " data-toggle="standard_contract_terms" data-title="0"><span
										class="glyphicon glyphicon-remove-sign"></span> NO</a>
									<input type="hidden" name="standard_contract_terms" value="" id="standard_contract_terms">
						</div> -->
						
					<!-- </div> -->
					<!-- /////COMMENT FOR PROD -->
					<!-- Part 2 Questions -->
					<!-- <div class="row input-group part2Questions">
						<div class="radioBtn crmfield btn-group q4 col-md-12 col-xs-12 mb8">
							<div class="fieldlabel col-md-8">
								<label><span class="QNumber">4.</span> Changes to EQS Terms or customer template?</label>
							</div>
							<div class="btnsyesno p2pq col-md-4">
								<a class="btn btn-primary btn-sm yesbtn q4" data-toggle="ChangesToEqsTerms" data-title="1">YES</a>
								<a class="btn btn-primary btn-sm nabtn q4 active" data-toggle="ChangesToEqsTerms" data-title="2">N/A</a>
								<a class="btn btn-primary btn-sm q4 nobtn" data-toggle="ChangesToEqsTerms" data-title="0">NO</a>
								<input type="hidden" name="ChangesToEqsTerms" value="2" id="ChangesToEqsTerms">
							</div>
						</div> -->
						<!-- q4_inner div -->
						<!-- <div class="col-md-12 q4_inner pr0 hideit">
							<div class="radioBtn crmfield btn-group q4_1 col-md-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">4.1.</span> Customer can be used as reference customer?</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm yesbtn active" data-toggle="customer" data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn " data-toggle="customer" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm nobtn" data-toggle="customer" data-title="0">NO</a>
									<input type="hidden" name="customer" value="1" id="customer">
								</div>
							</div>
							<div class="radioBtn crmfield btn-group q4_2 col-md-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">4.2.</span> Special notice or administrative requirements?</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm special_noticebtn yesbtn textdiv " data-toggle="special_notice"data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn textdiv" data-toggle="special_notice" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm special_noticebtn nobtn textdiv active" data-toggle="special_notice" data-title="0">NO</a>
									<input type="hidden" name="special_notice" value="0" id="special_notice">
								</div>
							</div> -->
							<!-- text field for 4.3 -->
							<!-- <div class="inputdiv col-md-12 col-sm-12 col-xs-12 textfielddiv special_notice_tdiv hideit">
								<p class="col-md-12 pl30"><input class="input-sm inputnotice"  placeholder="please describe it" id="special_notice_text" type="text" size="" name="special_notice_text"></p>
							</div>
							<div class="radioBtn crmfield btn-group q4_3 col-md-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">4.3.</span> Non Standard limitation of liability (e.g no or higher liability cap, or special cap for data breaches)?</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm textdiv yesbtn active" data-toggle="liability" data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn textdiv" data-toggle="liability" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm textdiv nobtn" data-toggle="liability" data-title="0">NO</a>
									<input type="hidden" name="liability" value="1" id="liability">
								</div>
							</div> -->
							<!-- Text Field  liability_text-->
							<!-- <div class="col-md-12  col-sm-12 col-xs-12 textfielddiv liability_tdiv hideit">
								<p class="col-md-12 pl30"><input id="liability_text" placeholder="please describe it"
										class="input-sm inputfull" type="text" name="liability_text"></p>
							</div>
							<div class="radioBtn crmfield btn-group q4_4 col-md-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">4.4.</span> Standard assignment language (no restrictions of
										assignments to an affiliate)?</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm textdiv yesbtn active" data-toggle="assignment" data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn textdiv" data-toggle="assignment" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm textdiv nobtn" data-toggle="assignment" data-title="0">NO</a>
									<input type="hidden" name="assignment" value="1" id="assignment">
								</div>
							</div> -->
							<!-- Text Field  assignment_text-->
							<!-- <div class="col-md-12  col-sm-12 col-xs-12 textfielddiv assignment_tdiv hideit">
								<p class="col-md-12 pl30"><input id="assignment_text" placeholder="please describe it"
										class="input-sm inputfull" type="text" name="assignment_text"></p>
							</div>
						</div> -->  <!-- q4_inner end -->
						<!-- Question 5 -->
						<!-- <div class="radioBtn crmfield btn-group q5 col-md-12 col-xs-12 mb8">
							<div class="fieldlabel col-md-8">
								<label><span class="QNumber">5.</span> SLAs are part of agreement?</label>
							</div>
							<div class="btnsyesno p2pq col-md-4">
								<a class="btn btn-primary btn-sm yesbtn q5" data-toggle="slas" data-title="1">YES</a>
								<a class="btn btn-primary btn-sm nabtn q5 active" data-toggle="slas" data-title="2">N/A</a>
								<a class="btn btn-primary btn-sm q5 nobtn" data-toggle="slas" data-title="0">NO</a>
								<input type="hidden" name="slas" value="2" id="slas">
							</div>
						</div>
	
						q5_inner div
						<div class="col-md-12 q5_inner hideit pr0">
							<div class="radioBtn crmfield btn-group q5_1 col-md-12 col-xs-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">5.1.</span> EQS Standard SLAs?</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm textdiv yesbtn active" data-toggle="standard_slas"
										data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn textdiv" data-toggle="standard_slas" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm textdiv nobtn" data-toggle="standard_slas" data-title="0">NO</a>
									<input type="hidden" name="standard_slas" value="1" id="standard_slas">
								</div>
							</div> -->
							<!-- Text Field  standard_slas_text-->
							<!-- <div class="col-md-12  col-sm-12 col-xs-12 textfielddiv standard_slas_tdiv hideit">
								<p class="col-md-12 pl30"><input id="standard_slas_text" placeholder="please describe it"
										class="input-sm inputfull" type="text" name="standard_slas_text"></p>
							</div>
						</div> --><!-- q5_inner div end -->
	
						<!-- Question 6 -->
						<!-- <div class="radioBtn crmfield btn-group q6 col-md-12 col-xs-12 mb8">
							<div class="fieldlabel col-md-8">
								<label><span class="QNumber">6.</span> EQS template Data Processing Exhibit- without changes or amendments.</label>
							</div>
							<div class="btnsyesno p2pq col-md-4">
								<a class="btn btn-primary btn-sm yesbtn q6 " data-toggle="eqs_template_data" data-title="1">YES</a>
								<a class="btn btn-primary btn-sm nabtn q6 active" data-toggle="eqs_template_data" data-title="2">N/A</a>
								<a class="btn btn-primary btn-sm nobtn q6" data-toggle="eqs_template_data" data-title="0">NO</a>
								<input type="hidden" name="eqs_template_data" value="2" id="eqs_template_data">
							</div>
						</div> -->
						<!-- q6_inner div -->
						<!-- <div class="col-md-12 q6_inner hideit pr0">
							<div class="radioBtn crmfield btn-group q6_1 col-md-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">6.1.</span> Restriction on data center location ( e.g. location, country, EU/EEA)</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm yesbtn textdiv " data-toggle="restriction" data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn textdiv" data-toggle="restriction" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm textdiv nobtn active" data-toggle="restriction" data-title="0">NO</a>
									<input type="hidden" name="restriction" value="0" id="restriction">
								</div>
							</div> -->
							<!-- Text Field  Restriction on data center_text-->
							<!-- <div class="col-md-12  col-sm-12 col-xs-12 textfielddiv restriction_tdiv hideit">
								<p class="col-md-12 pl30"><input id="restriction_text" placeholder="please describe it"
										class="input-sm inputfull" type="text" name="restriction_text"></p>
							</div>
							<div class="radioBtn crmfield btn-group q6_2 col-md-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">6.2.</span> Restrictions on using or changing subprocessors? (e.g customer
										consent required, special notication)</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm yesbtn textdiv" data-toggle="restriction_change" data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn textdiv" data-toggle="restriction_change" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm textdiv nobtn active" data-toggle="restriction_change" data-title="0">NO</a>
									<input type="hidden" name="restriction_change" value="0" id="restriction_change">
								</div>
							</div> -->
							<!-- Text Field  Restrictions on using or changing center_text-->
							<!-- <div class="col-md-12  col-sm-12 col-xs-12 textfielddiv restriction_change_tdiv hideit">
								<p class="col-md-12 pl30"><input id="restriction_change_text" placeholder="please describe it"
										class="input-sm inputfull" type="text" name="restriction_change_text"></p>
							</div>
						</div> -->
						<!-- q6_inner div end -->
	
						<!-- Question 7 -->
						<!-- <div class="radioBtn crmfield btn-group q7 col-md-12 mb8">
							<div class="fieldlabel col-md-8">
								<label><span class="QNumber">7.</span> Security Requirements made part of agreement?</label>
							</div>
							<div class="btnsyesno p2pq col-md-4">
								<a class="btn btn-primary btn-sm textdiv yesbtn q7" data-toggle="security_requirements" data-title="1">YES</a>
								<a class="btn btn-primary btn-sm nabtn textdiv q7 active" data-toggle="security_requirements" data-title="2">N/A</a>
								<a class="btn btn-primary btn-sm textdiv nobtn q7" data-toggle="security_requirements" data-title="0">NO</a>
								<input type="hidden" name="security_requirements" value="2" id="security_requirements">
							</div>
						</div> -->
	
						<!-- q7_inner div -->
						<!-- <div class="col-md-12 q7_inner hideit pr0">
							<div class="radioBtn crmfield btn-group q7_1 col-md-12 mb8">
								<div class="fieldlabel col-md-8">
									<label><span class="QNumber">7.1.</span> EQS standard TOMs?</label>
								</div>
								<div class="btnsyesno col-md-4">
									<a class="btn btn-primary btn-sm textdiv yesbtn active" data-toggle="EQS_standard_TOM" data-title="1">YES</a>
									<a class="btn btn-primary btn-sm nabtn textdiv " data-toggle="EQS_standard_TOM" data-title="2">N/A</a>
									<a class="btn btn-primary btn-sm textdiv nobtn" data-toggle="EQS_standard_TOM" data-title="0">NO</a>
									<input type="hidden" name="EQS_standard_TOM" value="1" id="EQS_standard_TOM">
								</div>
							</div> -->
							<!-- Text Field  agreement_text-->
							<!-- <div class="col-md-12  col-sm-12 col-xs-12 textfielddiv EQS_standard_TOM_tdiv hideit">
								<p class="col-md-12 pl30"><input id="EQS_standard_TOM_text" placeholder="please describe it"
										class="input-sm inputfull" type="text" name="EQS_standard_TOM_text"></p>
							</div>
						</div> --> <!-- q7_inner div end -->
					<!-- </div> --> 
					<!-- Part 2 Questions end -->
					
						
				<!-- </div> -->
				<!-- end contract length 6 columns-->
			 
			
			<!-- <div class="col-md-12 btnrow">
					<div class="actionbtns">
						<div class="submitbtn">
							<button id="submit" onclick="CheckValidation(CheckContract)">Ok</button>
						</div>
						<div class="cancelbtn">
							<button id="cancel" onclick="CancelIt()">Cancel</button>
						</div>
					</div>

			</div> -->
			</div> <!-- quentions_inner end -->
		</div>   <!--Otherfields end -->
	</div>
	<!-- end container-fluid -->
</body>

</html>